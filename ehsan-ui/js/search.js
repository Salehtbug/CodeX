const e=document.querySelectorAll(".ehsanSearchBtn"),t=document.querySelectorAll(".cancelSearchBtn");document.querySelectorAll(".searchFormWrapper");const n=document.querySelectorAll(".globalSearchInput");document.getElementById("pageSearchInput");const r=document.querySelectorAll(".doGlobalSearchBtn");if(n){let l=function(e){let t=e.closest(".searchFormWrapper"),n=t.querySelector("#globalQuickSearchResult");const r=t.querySelector("#searchResultList");let l=e.value.trim();r.innerHTML="",""===l||l.length<3?n.classList.add("d-none"):fetch(`/search/result?q=${l}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{let t=e.items;if(t.length>0){for(let e=0;e<t.length&&4!==e;e++){4==t[e].searchResultType?t[e].initiativeTypeName="محتوى":5==t[e].searchResultType&&(t[e].initiativeTypeName="جمعية خيرية");let n=`\n                    <li class="border-bottom px-3 py-2">\n                        <a class="d-flex justify-content-between w-100 text-decoration-none" href="${t[e].url}">\n       \n                            <span class="text-black">  ${27==t[e].initiativeType&&2==t[e].searchResultType?t[e].description:30==t[e].initiativeType&&2==t[e].searchResultType||null==t[e].initiativeType&&5==t[e].searchResultType?t[e].extraInfo:t[e].title}</span>\n                           \n                        </a>\n                    </li>`;r.innerHTML+=n}n.classList.remove("d-none")}else n.classList.add("d-none")})).catch((e=>{console.error("Error fetching search results:",e)}))};e.forEach((e=>{e.addEventListener("click",(function(){e.classList.add("d-none"),e.parentElement.parentElement.querySelector(".searchFormWrapper").classList.remove("d-none"),e.parentElement.parentElement.querySelector(".globalSearchInput").classList.remove("input-search-hide"),e.parentElement.parentElement.querySelector(".globalSearchInput").classList.add("input-search"),e.parentElement.parentElement.querySelector(".doGlobalSearchBtn").classList.remove("d-none"),e.parentElement.parentElement.querySelector(".cancelSearchBtn").classList.remove("d-none")}))})),t.forEach((e=>{e.addEventListener("click",(function(){e.classList.add("d-none"),e.parentElement.parentElement.querySelector(".searchFormWrapper").classList.add("d-none"),e.parentElement.parentElement.querySelector(".ehsanSearchBtn").classList.remove("d-none"),e.parentElement.parentElement.querySelector(".globalSearchInput").classList.add("input-search-hide"),e.parentElement.parentElement.querySelector(".globalSearchInput").classList.remove("input-search"),e.parentElement.parentElement.querySelector(".globalSearchInput").value="",e.parentElement.parentElement.querySelector(".doGlobalSearchBtn").classList.add("d-none")}))})),null==n||n.forEach((e=>{e.addEventListener("input",(()=>{l(e)}))})),r.forEach((e=>{e.addEventListener("input",(()=>{l(e.parentElement.querySelector(".globalSearchInput"))}))}))}
//# sourceMappingURL=search.js.map
