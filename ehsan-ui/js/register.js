import{J as e}from"./justvalidation.js";const t=document.getElementById("registerForm"),r=document.getElementById("submitBtnRegister");let a=document.getElementById("fieldsId").tomselect,n=document.getElementById("projectSubTypesId"),o=n.tomselect;function s(e,t){0==e.length?n.parentElement.classList.add("d-none"):n.parentElement.classList.remove("d-none"),o.clearOptions(),o.clearCache();const r=e;fetch("/lookups/project-sub-types",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{let r=[...o.getValue()];0==e.length?(o.clear(),o.clearOptions()):e.forEach((a=>{if(t){if(1==r.length&&o.clear(),r.includes(a.value)){o.clear(),o.clearOptions(),o.refreshItems(),o.refreshOptions(!0);let t=e.map((e=>({value:e.value,text:e.text})));o.addOptions(t),o.addItem(a.value,!0)}}else{let t=e.map((e=>({value:e.value,text:e.text})));o.addOptions(t)}}))})).catch((e=>{console.error("There was a problem with the fetch operation:",e)}))}if(a.settings.sortField=!1,a.on("change",(function(){s(a.getValue(),!1)})),a.on("item_remove",(function(){s(a.getValue(),!0)})),t)var l=new e("#registerForm",{validateBeforeSubmitting:!0});null==r||r.addEventListener("click",(function(e){l.addField("#fullNameAcount",[{rule:"required",errorMessage:"الاسم مطلوب"}]).addField("#Email",[{rule:"required",errorMessage:"البريد الإلكتروني مطلوب"},{rule:"customRegexp",value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$|^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+_[a-zA-Z0-9.-]+$/,errorMessage:"البريد الإلكتروني غير صحيح"}]).addField("#PhoneNumber",[{rule:"required",errorMessage:"الحقل مطلوب"},{rule:"maxLength",value:10,errorMessage:"يجب ألا يتجاوز الطول 10 أرقام"},{rule:"minLength",value:10,errorMessage:"يجب ألا يقل الطول عن 10 أرقام"},{rule:"number",errorMessage:"يجب أن يكون المدخل رقم فقط"},{rule:"customRegexp",value:/(009665|9665|\+9665|05|5)/,errorMessage:"يجب أن يبدأ الرقم ب 05"}]).onSuccess((e=>{r.disabled=!0,t.submit()})).onFail((e=>{r.disabled=!1}))}));
//# sourceMappingURL=register.js.map
