import{P as e}from"./redirectToPayment.js";import{J as t}from"./justvalidation.js";import"./bootstrap.js";const a=new e,n=document.getElementById("payDirectZakat");var r=new t("#zakatForm",{validateBeforeSubmitting:!0});n.addEventListener("click",(function(e){r.addField("#Amount",[{rule:"required",errorMessage:"الرجاء إدخال مبلغ الزكاة"},{rule:"minNumber",value:1,errorMessage:"المبلغ بين 1 و 1000000 ريال سعودي"},{rule:"maxNumber",value:1e6,errorMessage:"المبلغ بين 1 و 1000000 ريال سعودي"}],{errorsContainer:".error-validation"}).onSuccess((e=>{n.disabled=!0;let t={},r=document.getElementsByName("AgentId")[0],o=document.getElementsByName("InitiativeTypeId")[0],i=document.getElementsByName("ShowFlag")[0],m=document.getElementsByName("Mobile")[0],s=document.getElementsByName("Amount")[0];a.redirectToPayment(!0),t.AgentId=Number(r.value),t.InitiativeTypeId=Number(o.value),t.ShowFlag="True"==i.value,t.Mobile=m.value,t.Amount=Number(s.value);let d="/zakat/zakat";fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{e.isSuccess?(a.redirectToPayment(!0),window.location.href=e.baseUri+"Payment?transactionId="+e.result):window.location.href=d})).catch((e=>{n.disabled=!1,a.handleResponse(!0)}))})).onFail((e=>{n.disabled=!1}))}));
//# sourceMappingURL=zakat.js.map
