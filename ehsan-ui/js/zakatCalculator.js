import{M as e,T as t}from"./bootstrap.js";import{T as n}from"./tom-select.complete.js";const a=document.getElementById("totalZakatFake"),s=document.getElementById("paymentZakat");let d=document.querySelector(".empty-zakat");const l=document.getElementById("GoldWeight"),r=document.getElementById("GoldKaratId"),i=document.getElementById("addGold");let o=0,c=document.getElementById("addMoneyInput"),u=document.getElementById("silverWeight"),m=!1,v=!1,L=!1;const y=document.getElementById("sharesForm");let b=y.getElementsByTagName("input");const p=document.getElementById("addShares");let g=!1,f=!1,h=!1;const E=document.getElementById("addInvestment"),T=document.getElementById("srNotificationArea"),M=document.getElementById("addMoney"),S=document.getElementById("cancelMoney");let I=document.querySelectorAll(".add-zakat"),$=document.getElementById("totalZakat");const k=document.querySelector("#deleteMoney"),H=document.querySelectorAll(".delete-bucket"),N=document.querySelector(".complete-delete"),B=document.querySelector(".exit-delete"),q=document.querySelector(".close-delete-zakat"),A=document.getElementById("additionalMoney"),x=document.querySelector("#editMoney"),w=document.getElementById("addsilver"),W=document.getElementById("cancelSilver"),G=document.getElementById("deleteSilver"),V=document.getElementById("editSilver"),z=document.getElementById("cancelShares"),F=document.getElementById("addShares"),Z=document.getElementById("addAnotherSharesBtn"),P=document.getElementById("addAnotherInvestmentBtn");let D=document.querySelectorAll(".check-type");const O=document.getElementById("totalZakatMoneyWrapper"),j=document.getElementById("totalMoneyValue"),C=document.getElementById("notAcceptMoneyZakat"),J=document.getElementById("zakatMoneyValue"),K=document.querySelector(".addNewMoney"),_=document.querySelector('label[data-type="money"]'),Q=document.getElementById("totalGold24Weight"),R=document.getElementById("notAcceptGoldZakat"),U=document.getElementById("karatsWrapper"),X=document.getElementById("addAnotherGold"),Y=document.getElementById("addAnotherGoldBtn"),ee=document.getElementById("cancelGold"),te=document.getElementById("addGoldWrapper"),ne=document.getElementById("zakatAllData"),ae=document.getElementById("zakatGoldValue"),se=document.querySelector("#cannotEditGolg");let de=document.getElementById("zakatSilverValue"),le=document.getElementById("totalSilverWeight"),re=r.options;const ie=document.getElementById("notAcceptSharesZakat"),oe=document.getElementById("allShares"),ce=document.getElementById("zakatSharesValue"),ue=document.getElementById("sharesTotalMoney"),me=document.getElementById("addAnotherShares"),ve=document.getElementById("sharesName"),Le=document.getElementById("sharesNumbers"),ye=document.getElementById("sharesValue"),be=document.getElementById("cancelInvestment"),pe=document.getElementById("investmentName"),ge=document.getElementById("investmentNumbers"),fe=document.getElementById("investmentValue"),he=document.getElementById("investmentNameValidation"),Ee=document.getElementById("investmentForm"),Te=document.getElementById("zakatInvestmentValue"),Me=document.getElementById("notAcceptInvestmentZakat"),Se=document.getElementById("allInvestment"),Ie=document.getElementById("addAnotherInvestment"),$e=document.getElementById("investmentNumbersValidation"),ke=document.getElementById("investmentValueValidation");let He=Ee.getElementsByTagName("input"),Ne=document.querySelector(".additional-money");const Be=document.getElementById("alertInputMoney"),qe=document.querySelector(".total-zakat-wrapper");let Ae=document.querySelector(".total-zakat-calc-wrapper");const xe=document.querySelector("#goldWeightValidation"),we=document.querySelector("#GoldKaratIdValidation");var We=0;let Ge;function Ve(){Ge=new n(r,{plugins:["no_backspace_delete"],allowEmptyOption:!0,create:!1,maxItems:1,closeAfterSelect:!0})}function ze(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Fe(){const e=Array.from(D).every((function(e){return!e.checked}));0==Number($.innerHTML)?(Ne.classList.add("d-none"),s.classList.add("disabled")):(s.classList.remove("disabled"),Ne.classList.remove("d-none")),e?(d.classList.remove("d-none"),Ae.classList.remove("text-primary")):d.classList.add("d-none")}window.addEventListener("beforeunload",(function(){D.forEach((function(e){e.checked=!1}))})),Ve(),fetch("LoadZakatBucket",{credentials:"include",method:"get"}).then((e=>{const t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw new TypeError("Oops, we haven't got JSON!");return e.json()})).then((e=>{if(!e.isSuccess){const t=document.getElementById("zakatCalcWrapper"),n=document.getElementById("zakatCalcNotAvailableWrapper"),a=document.getElementById("zakatCalcNotAvailable");return D.forEach((e=>{e.disabled=!0})),t.classList.add("d-none"),n.classList.remove("d-none"),a.textContent=e.result,!1}const t=e.result.zakat;document.querySelectorAll(".goldPriceToDay").forEach((function(e){e.innerHTML=t.globalMetal.goldKarat24GramPrice})),document.querySelectorAll(".silverPriceToDay").forEach((function(e){e.innerHTML=t.globalMetal.silverGramPrice})),document.querySelectorAll(".dateOfPrice").forEach((function(e){e.innerHTML=t.globalMetal.creationTimeString})),ne.value=JSON.stringify(t);const n=t.globalMetal.silverGramPrice,a=595*Number(n);o=a})),Fe(),T.setAttribute("aria-live","assertive");const Ze=function(e){const t=e.reduce(((e,t)=>e+t));return t>0?(Ne.classList.remove("d-none"),Ae.classList.add("text-primary")):(Ne.classList.remove("d-none"),Ae.classList.remove("text-primary")),(Math.round(100*t)/100).toFixed(2)};function Pe(){let e=document.querySelectorAll(".bucket-money");var t=[];return Array.from(e).forEach((function(e){const n=Number(e.innerHTML);t.push(n)})),t.push(Number(A.value)),t}I.forEach((function(e){e.addEventListener("click",(function(t){t.stopPropagation();let n=e.querySelector(".check-type");if(!n)return void console.error("Checkbox not found for the current element.");let a=e.dataset.type,s=document.querySelector(`[data-accordion="${a}"]`);document.querySelectorAll(".zakat-calc-accordion-header").forEach((function(e){var t,s;const d=e.dataset.type;if(a===d){if(!n.checked){return e.querySelector(".delete-bucket").click(),!1}e.querySelector(".accordion-button").classList.remove("collapsed"),e.querySelector(".accordion-button").setAttribute("aria-expanded","true"),null==(t=document.querySelector(`label[data-type="${d}"]`))||t.setAttribute("aria-expanded","true")}else e.querySelector(".accordion-button").classList.add("collapsed"),e.querySelector(".accordion-button").setAttribute("aria-expanded","false"),null==(s=document.querySelector(`label[data-type="${d}"]`))||s.setAttribute("aria-expanded","false")})),s?(document.querySelectorAll(".zakat-calc-accordion").forEach((function(t){const d=t.dataset.type;a===d&&n.checked?(e.classList.add("border-primary"),e.setAttribute("aria-expanded","true"),s.classList.remove("d-none"),t.classList.add("show"),t.classList.remove("d-none"),s.querySelector("input").scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout((function(){var e;null==(e=t.querySelector("div.accordion-body > div:not(.d-none) input, div.accordion-body > div:not(.d-none) a, div.accordion-body > div:not(.d-none) select, div.accordion-body > div:not(.d-none) button"))||e.focus()}),1)):a!==d||n.checked||(s.classList.add("d-none"),t.classList.remove("show"),t.classList.add("d-none"),e.classList.remove("border-primary"),e.setAttribute("aria-expanded","false"))})),Fe()):console.error(`Accordion not found for type: ${a}`)}))}));function De(){s.disabled=!1,s.classList.remove("disabled")}function Oe(){s.disabled=!0,s.classList.add("disabled")}M.addEventListener("click",(function(){!function(e){if(C.classList.add("d-none"),Be.classList.add("d-none"),c.value<1)0==c.value?(Be.classList.remove("d-none"),Be.innerText="حقل مطلوب",c.focus(),T.innerText='حقل "المبلغ" مطلوب'):(Be.classList.remove("d-none"),Be.innerText="إدخال خاطئ، الرجاء التحقق من القيم المدخلة",T.innerText='يحتوي حقل "المبلغ" على إدخال خاطئ، الرجاء التحقق من القيم المدخلة.');else{if(!0===e)j.innerText=Number(j.dataset.last),t=Number(j.dataset.last)/40,t=(Math.round(100*t)/100).toFixed(2);else{var t=Number(c.value)/40;t=(Math.round(100*t)/100).toFixed(2),j.innerText=Number(c.value)}Number(c.value)<o?(C.classList.remove("d-none"),T.innerText=e?`تم تعديل مبلغ ${c.value} ريال سعودي في حاسبة زكاة المال، ولكن لا تجب فيه الزكاة لعدم بلوغ النصاب.`:`تم إضافة مبلغ ${c.value} ريال سعودي إلى حاسبة زكاة المال، ولكن لا تجب فيه الزكاة لعدم بلوغ النصاب.`):(C.classList.add("d-none"),T.innerText=e?`تم تعديل مبلغ ${c.value} ريال سعودي في حاسبة زكاة المال.`:`تم إضافة مبلغ ${c.value} ريال سعودي إلى حاسبة زكاة المال.`),O.classList.remove("d-none"),O.dataset.edit=!1,x.setAttribute("aria-label",`تعديل مبلغ زكاة المال. المبلغ المُدْخَل: ${j.innerText} ريال سعودي. الزكاة المستحقة: ${t} ريال سعودي`),k.setAttribute("aria-label",`حذف مبلغ زكاة المال. المبلغ المُدْخَل: ${j.innerText} ريال سعودي. الزكاة المستحقة: ${t} ريال سعودي`),J.innerText=t,_.setAttribute("aria-label",`المال. مبلغ الزكاة: ${t} ريال سعودي`),c.value="";let n=parseFloat($.innerHTML)+Number(t);K.classList.add("d-none"),document.querySelector("#totalMoneySetting").classList.remove("d-none"),parseFloat(n)>0?qe.classList.remove("no-money"):(qe.classList.add("no-money"),$.innerHTML=0),x.focus(),$.innerHTML=Ze(Pe()),a.innerHTML=ze($.innerHTML),De()}}(O.dataset.edit)})),c.addEventListener("input",(function(e){const t=document.getElementById("addMoney");this.value>0?t.classList.remove("disabled"):(s.disabled=!0,t.classList.add("disabled"))})),u.addEventListener("input",(function(e){this.value>0?w.classList.remove("disabled"):(w.classList.add("disabled"),s.disabled=!0)})),l.addEventListener("input",(function(e){this.value.length>0?(r.value>0&&i.classList.remove("disabled"),xe.classList.add("d-none")):(s.disabled=!0,i.classList.add("disabled"),xe.classList.remove("d-none"))})),r.addEventListener("change",(function(){this.value>0&&l.value>0?(i.classList.remove("disabled"),we.classList.add("d-none")):(s.disabled=!0,i.classList.add("disabled"))}));const je=function(){Array.from(b).forEach((function(e){e.value.length?"sharesName"===e.id?m=!0:"sharesNumbers"===e.id?v=!0:"sharesValue"===e.id&&(L=!0):"sharesName"===e.id?m=!1:"sharesNumbers"===e.id?v=!1:"sharesValue"===e.id&&(L=!1)}))};ve.addEventListener("input",(function(){je(),!0===m&&!0===v&&!0===L?(p.classList.remove("btn-gray-3"),p.classList.remove("disabled"),p.classList.add("btn-primary-blue")):(p.classList.add("btn-gray-3"),p.classList.add("disabled"),s.disabled=!0,p.classList.remove("btn-primary-blue"))})),Le.addEventListener("input",(function(){je(),!0===m&&!0===v&&!0===L?(p.classList.remove("btn-gray-3"),p.classList.remove("disabled"),p.classList.add("btn-primary-blue")):(p.classList.add("btn-gray-3"),p.classList.add("disabled"),s.disabled=!0,p.classList.remove("btn-primary-blue"))})),ye.addEventListener("input",(function(){je(),!0===m&&!0===v&&!0===L?(p.classList.remove("btn-gray-3"),p.classList.remove("disabled"),p.classList.add("btn-primary-blue")):(p.classList.add("btn-gray-3"),p.classList.add("disabled"),s.disabled=!0,p.classList.remove("btn-primary-blue"))}));const Ce=function(){Array.from(He).forEach((function(e){e.value.length?"investmentName"===e.id?g=!0:"investmentNumbers"===e.id?f=!0:"investmentValue"===e.id&&(h=!0):"investmentName"===e.id?g=!1:"investmentNumbers"===e.id?f=!1:"investmentValue"===e.id&&(h=!1)}))};function Je(e,t){let n=Number($.innerHTML)-Number(e);$.innerHTML=(Math.round(100*n)/100).toFixed(2),"silver"===t&&($.dataset.silver=0),Number($.innerHTML)>0?qe.classList.remove("no-money"):(qe.classList.add("no-money"),$.innerHTML=0),a.innerHTML=ze($.innerHTML)}function Ke(e,t,n){const a={money:"المال",gold:"الذهب",silver:"الفضة",shares:"الأسهم",investment:"الصناديق الاستثمارية"},s=document.getElementById(t);s.innerHTML=Math.round(parseFloat(s.innerHTML)-parseFloat(e)).toFixed(2),document.querySelector(`label[data-type=${n}]`).setAttribute("aria-label",`${a[n]}. مبلغ الزكاة: ${s.innerHTML} ريال سعودي`)}pe.addEventListener("input",(function(){Ce(),!0===g&&!0===f&&!0===h?E.classList.remove("disabled"):(E.classList.add("disabled"),s.disabled=!0)})),ge.addEventListener("input",(function(){Ce(),!0===g&&!0===f&&!0===h?E.classList.remove("disabled"):(E.classList.add("disabled"),s.disabled=!0)})),fe.addEventListener("input",(function(){Ce(),!0===g&&!0===f&&!0===h?E.classList.remove("disabled"):(E.classList.add("disabled"),s.disabled=!0)})),window.addEventListener("scroll",(e=>{const{scrollTop:t}=e.target.scrollingElement;document.querySelector("#moneyWrapper").classList.toggle("stickyMoney",t>=250)}));var _e=new e(document.getElementById("deleteModal"),{});H.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.stopImmediatePropagation();const t=this.dataset.delete,n=this.dataset.name,a=n.replace(/زكاة /g,"");N.dataset.delete=t,N.dataset.name=n,B.dataset.delete=t,B.dataset.name=n,q.dataset.delete=t,q.dataset.name=n,document.querySelector(".delete-item").innerHTML=n;let s=document.querySelector(`[data-accordion=${t}]`);const d=s.querySelector(".bucket-money");0===Number(d.innerHTML)?(s.classList.add("d-none"),I.forEach((function(e){e.dataset.type===t&&(e.classList.remove("btn-primary-green"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",`${a}. مبلغ الزكاة: 0 ريال سعودي`),T.innerText=`تم إفراغ حاسبة ${n}.`,e.focus(),e.classList.remove("border-primary"),e.querySelector(".check-type").checked=!1)})),Fe()):_e.show()}))})),N.addEventListener("click",(function(){const e=this.dataset.delete;var n=document.querySelectorAll(".zakat-calc-accordion-item");let a=this.dataset.name;I.forEach((function(t){t.dataset.type===e&&(t.classList.remove("border-primary"),t.querySelector(".check-type").checked=!1)})),n.forEach((function(t){var n,s;const d=t.dataset.accordion;if(d===e){if(t.classList.add("d-none"),_e.hide(),document.querySelector(".delete-item").innerHTML=a,Je(Number(t.querySelector(".bucket-money").innerHTML)),"gold"===d){U.innerHTML="",ae.innerHTML=0,document.querySelector('label[data-type="gold"]').setAttribute("aria-label",`الذهب. مبلغ الزكاة: ${ae.innerHTML} ريال سعودي`),Q.innerHTML=0,X.classList.add("d-none"),te.classList.remove("d-none"),document.getElementById("cancelGold").classList.add("d-none");const e=r.options;Array.from(e).forEach((function(e){e.disabled=!1}))}else if("money"===d)C.classList.add("d-none"),O.classList.add("d-none"),J.innerHTML=0,_.setAttribute("aria-label",`المال. مبلغ الزكاة: ${J.innerHTML} ريال سعودي`),j.innerHTML=0,K.classList.remove("d-none"),S.classList.add("d-none"),M.classList.add("col");else if("silver"===d)de.innerHTML=0,document.querySelector('label[data-type="silver"]').setAttribute("aria-label",`الفضة. مبلغ الزكاة: ${de.innerHTML} ريال سعودي`),le.innerHTML=0,document.querySelector("#silverForm").classList.remove("d-none"),document.getElementById("cancelSilver").classList.add("d-none");else if("shares"===d){document.querySelector(".shares-wrapper").innerHTML="",document.getElementById("zakatSharesValue").innerHTML=0,document.querySelector('label[data-type="shares"]').setAttribute("aria-label",`الأسهم. مبلغ الزكاة: ${document.getElementById("zakatSharesValue").innerHTML} ريال سعودي`),document.getElementById("sharesTotalMoney").innerHTML=0,me.classList.add("d-none"),y.classList.remove("d-none"),z.classList.add("d-none"),ie.classList.add("d-none"),document.querySelector("#allShares").innerHTML="";const e=document.querySelector('[data-type="shares"]');e.classList.remove("btn-primary-green"),null==(n=e.querySelector(".fa-plus-circle"))||n.classList.remove("d-none")}else if("investment"===d){Se.innerHTML="",Te.innerHTML=0,document.querySelector('label[data-type="investment"]').setAttribute("aria-label",`الصناديق الاستثمارية. مبلغ الزكاة: ${Te.innerHTML} ريال سعودي`),document.getElementById("investmentTotalMoney").innerHTML=0,Ie.classList.add("d-none"),Ee.classList.remove("d-none"),be.classList.add("d-none"),Me.classList.add("d-none"),Se.innerHTML="";const e=document.querySelector('[data-type="investment"]');e.classList.remove("btn-primary-green"),null==(s=e.querySelector(".fa-plus-circle"))||s.classList.remove("d-none")}let e=document.querySelector(`label[data-type=${d}]`);e.setAttribute("aria-expanded","false"),e.focus(),T.innerText=`تم إفراغ حاسبة ${a}.`}})),Fe();document.getElementById("zakatTypeToaster").textContent=a,new t(document.getElementById("removeMoneyToast"),{delay:3e3}).show()})),B.addEventListener("click",(function(){_e.hide();let e=this.dataset.delete;I.forEach((function(t){if(t.dataset.type==e){if(t.querySelector(".check-type").checked)return!1;t.click()}}))})),q.addEventListener("click",(function(){_e.hide();let e=this.dataset.delete;I.forEach((function(t){if(t.dataset.type==e){if(t.querySelector(".check-type").checked)return!1;t.click()}}))})),A.addEventListener("blur",(function(){const e=this.value,t=this.dataset.last,n=$,s=Number(e)-Number(t)+Number(n.innerHTML);n.innerHTML=Math.round(s),this.dataset.last=this.value,$.innerHTML=Ze(Pe()),a.innerHTML=ze($.innerHTML)})),S.addEventListener("click",(function(e){Qe()})),x.addEventListener("click",(function(e){e.preventDefault(),j.dataset.last=Number(j.innerHTML),Be.classList.add("d-none"),K.classList.remove("d-none"),K.setAttribute("aria-label","تعديل زكاة المال"),document.getElementById("addMoneyInput").value=j.innerText,document.getElementById("addMoneyInput").focus(),S.classList.remove("d-none"),M.classList.remove("col");const t=Number($.innerHTML);Number(t)>0?qe.classList.remove("no-money"):(qe.classList.add("no-money"),$.innerHTML=0),a.innerHTML=ze($.innerHTML),Oe(),O.classList.add("d-none"),O.dataset.edit=!0})),k.addEventListener("click",(function(e){e.preventDefault();const t=$.innerHTML,n=J.innerText;K.classList.remove("d-none"),K.classList.add("col"),C.classList.add("d-none"),K.setAttribute("aria-label","إضافة زكاة المال"),$.innerHTML=t-n,document.getElementById("addMoneyInput").value="",T.innerText=`تم حذف مبلغ ${j.innerText} ريال سعودي من حاسبة زكاة المال.`,j.innerText=0,J.innerText=0,_.setAttribute("aria-label",`المال. مبلغ الزكاة: ${J.innerHTML} ريال سعودي`),document.querySelector("#totalMoneySetting").classList.add("d-none");var s=Number($.innerHTML);document.getElementById("addMoneyInput").focus(),s>0?qe.classList.remove("no-money"):(qe.classList.add("no-money"),$.innerHTML=0),a.innerHTML=ze($.innerHTML),O.classList.add("d-none")}));const Qe=function(){O.classList.remove("d-none"),O.dataset.edit=!1,j.dataset.last="",K.classList.add("d-none"),S.classList.add("d-none"),document.getElementById("addMoneyInput").value="",document.querySelector(".addNewMoney").setAttribute("aria-label","إضافة زكاة المال"),O.classList.remove("d-none"),document.getElementById("editMoney").focus(),De()};function Re(e,t){Ge&&Ge.destroy(),Array.from(re).forEach((function(n){n.dataset.karat===e&&(t?n.disabled=!1:(n.disabled=!0,n.selected=!1))})),Ve()}function Ue(e,t,n,a){return`\n    <div class="align-items-center border d-flex justify-content-between p-3 rounded-4 mb-2 itemGoldWrapper gold-item" data-id="${a}" data-weight="${e}" data-real="${n}" data-type="${t}">\n        <div class="align-items-center d-flex">\n            <div class="align-items-center bg-primary-s d-flex h-42px justify-content-center me-2 w-42px">\n                <img src="/ehsan-ui/images/icons/gold-icon.svg" class="h-16px w-16px">\n            </div>\n            <div>\n                <h5>عيار: <span>${t}</span></h5>\n                <label class="text-neutral-5">وزن الذهب:  <span>${e}</span> جرام </label>\n            </div>\n        </div>\n        <div>\n            <button data-edit='true' data-kind='gold' data-real="${e}" data-type="${t}" aria-label='تعديل ال${t}, المقدار الحالي: ${e}' class="btn btn-link">\n              <img data-edit='true' data-kind='gold' data-real="${e}" data-type="${t}" src="/ehsan-ui/images/icons/edit-icon.svg">\n            </button>\n            <button data-delete='true' data-weight='${n}' data-type="${t}" data-kind='gold' aria-label='حذف ال${t}, المقدار الحالي: ${e}' class="btn btn-link deleteGoldItem">\n              <img class='deleteGoldItem' data-kind='gold' data-delete='true' data-weight='${n}' data-type="${t}" src="/ehsan-ui/images/icons/delete-icon.svg">\n            </button>\n        </div>\n    </div>\n    `}const Xe=function(e=!1,t=null){const n=l.value+" جرام",s=r.options[r.selectedIndex].text,d=r.options[r.selectedIndex].dataset.id,i=r.options[r.selectedIndex].dataset.karat,o=JSON.parse(ne.value).globalMetal.goldKarat24GramPrice;if(R.classList.add("d-none"),xe.classList.add("d-none"),we.classList.add("d-none"),se.classList.add("d-none"),U.dataset.edit=!1,""===l.value||""===r.value||Number(l.value)<1)(""===l.value||Number(l.value)<1)&&(xe.classList.remove("d-none"),l.focus(),T.innerText='حقل "وزن الذهب" مطلوب.'),""===r.value&&(we.classList.remove("d-none"),r.focus(),T.innerText='حقل "العيار" مطلوب.');else if(e&&null!==t&&t.dataset.type==i&&t.dataset.real==l.value)ee.click();else{const r={12:.5,14:.583,18:.75,21:.875,22:.916,24:1},c=l.value*(r[i]||0);if(Re(i,!1),U.setAttribute("role","region"),U.setAttribute("aria-label","محتويات حاسبة زكاة الذهب"),e&&null!=t){t.remove();let e=Ue(l.value,i,c,d);U.innerHTML+=e;let n=document.querySelectorAll(".itemGoldWrapper"),a=0;n.forEach((e=>{a+=Number(e.dataset.real)})),Q.innerHTML=a,ae.innerHTML=Number(a)*Number(o)/40,Number(a)<85?R.classList.remove("d-none"):R.classList.add("d-none")}else{let e=Ue(l.value,i,c,d);We+=c,Q.innerHTML=We.toFixed(2);let t=Number(c)*Number(o)/40;t=(Math.round(100*t)/100).toFixed(2);const n=Number(ae.innerHTML)+Number(t);ae.innerHTML=(Math.round(100*n)/100).toFixed(2),qe.classList.remove("no-money"),U.innerHTML+=e,Number(We)<85?R.classList.remove("d-none"):R.classList.add("d-none")}document.querySelector('label[data-type="gold"]').setAttribute("aria-label",`الذهب. مبلغ الزكاة: ${ae.innerHTML} ريال سعودي`),$.innerHTML=Ze(Pe()),a.innerHTML=ze($.innerHTML),te.classList.add("d-none"),X.classList.remove("d-none"),l.value="",Number(We)<85?T.innerText=e?`تم تعديل ال${s}, بمقدار ${n} في حاسبة زكاة الذهب، ولكن لا تجب فيه الزكاة لعدم بلوغ النصاب.`:`تم إضافة ال${s}, بمقدار ${n} إلى حاسبة زكاة الذهب، ولكن لا تجب فيه الزكاة لعدم بلوغ النصاب.`:T.innerText=e?`تم تعديل ال${s}, بمقدار ${n} في حاسبة زكاة الذهب.`:`تم إضافة ال${s}, بمقدار ${n} إلى حاسبة زكاة الذهب.`}De()};i.addEventListener("click",(function(){"true"==U.dataset.edit?Xe(!0,U.querySelector('.itemGoldWrapper[data-edit="true"]')):Xe()})),ee.addEventListener("click",(function(){"true"==this.dataset.edit?Ye():(qe.classList.remove("no-money"),l.value="",U.dataset.edit=!1,te.classList.add("d-none"),te.setAttribute("aria-label","إضافة زكاة الذهب"),ee.classList.add("d-none"),i.classList.add("col"),ee.dataset.edit=!1),X.classList.remove("d-none"),Y.focus()})),Y.addEventListener("click",(function(e){e.preventDefault(),i.classList.remove("col"),te.classList.remove("d-none"),te.setAttribute("aria-label","إضافة زكاة الذهب"),document.getElementById("GoldWeight").focus(),X.classList.add("d-none"),document.getElementById("cancelGold").classList.remove("d-none"),document.getElementById("cancelGold").dataset.edit=!1})),document.addEventListener("click",(function(e){if("gold"===e.target.dataset.kind&&e.target.dataset.delete){e.target.closest(".itemGoldWrapper").remove(),setTimeout((function(){Y.focus()}),1);const t=e.target.dataset.type;Re(t,!0);const n=e.target.dataset.weight;T.innerText=`تم حذف العيار ${t}, بمقدار ${n} جرام من حاسبة زكاة الذهب.`;const a=JSON.parse(ne.value).globalMetal.goldKarat24GramPrice;Q.innerHTML=Number(Q.innerHTML)-n,We-=n;let s=Number(n)*Number(a)/40;Je(s,"gold"),Ke(s,"zakatGoldValue","gold"),Number(Q.innerHTML)<85?R.classList.remove("d-none"):R.classList.add("d-none"),Number(Q.innerHTML)<=0&&(ae.innerHTML=0,Q.innerHTML=0,R.classList.add("d-none")),document.querySelector('label[data-type="gold"]').setAttribute("aria-label",`الذهب. مبلغ الزكاة: ${ae.innerHTML} ريال سعودي`),0===document.querySelectorAll(".itemGoldWrapper").length&&(te.classList.remove("d-none"),ee.classList.add("d-none"),i.classList.add("col"),X.classList.add("d-none"))}if("gold"===e.target.dataset.kind&&e.target.dataset.edit){if("false"===U.dataset.edit){const t=e.target.closest(".itemGoldWrapper"),n=e.target.dataset.type;U.dataset.edit=!0,Ge&&Ge.destroy(),Array.from(re).forEach((function(e){e.dataset.karat===n&&(e.disabled=!1,e.selected=!0)})),Ve(),te.classList.remove("d-none"),te.setAttribute("aria-label","تعديل زكاة الذهب"),ee.classList.remove("d-none"),i.classList.remove("col"),ee.dataset.edit=!0,l.value=e.target.dataset.real,l.focus(),t.classList.add("d-none"),t.dataset.edit=!0,X.classList.add("d-none")}else se.classList.remove("d-none");Oe()}}));const Ye=function(){const e=U.querySelector('.itemGoldWrapper[data-edit="true"]'),t=e.dataset.type;e.classList.remove("d-none"),e.dataset.edit=!1,X.classList.remove("d-none"),Array.from(re).forEach((function(e){e.dataset.karat===t&&(e.disabled=!0,e.selected=!1,te.classList.add("d-none"),te.setAttribute("aria-label","إضافة زكاة الذهب"),ee.classList.add("d-none"),i.classList.add("col"),ee.dataset.edit=!1,ee.dataset.type="",ee.dataset.weight24="",ee.dataset.weight="",l.value="")})),U.dataset.edit=!1,De()};function et(e,t,n,s,d,l,r,i,o){var c="",u='<img src="/ehsan-ui/images/icons/shares-icon.svg" class="h-16px w-16px">',m="",v="",L="",y="";"shares"===r?(c="shares",m="السهم",v="الأسهم",L="سهم",y="أسهم"):"investment"===r&&(c="investment",u='<img src="/ehsan-ui/images/icons/investment-icon.svg" class="h-16px w-16px">',m="الصندوق الاستثماري",v="الصناديق الاستثمارية",L="صندوق",y="صناديق");let b=null;if(i&&null!=o){b=o;const e=b.querySelector(`div.wrapper-${c}`).dataset.value,t=document.getElementById(`${r}TotalMoney`),n=Number(e)/40;b.innerHTML="",t.innerHTML=Number(t.innerHTML)-Number(e),Je(n),"shares"===r?Ke(n,"zakatSharesValue","shares"):Ke(n,"zakatInvestmentValue","investment")}else b=document.createElement("div");const p=Number(t.value)*Number(n.value),g=p/40;d.innerHTML=Number(d.innerHTML)+Number(p);const f=function(e,t,n,a,s,d,l,r,i,o){return`\n  <div class="align-items-center border d-flex justify-content-between p-3 rounded-4 mb-2 wrapper wrapper-${e}" data-name="${t}" \n  data-unit = ${n} data-numbers=${a} data-value=${s} data-name=${t} data-name-singular="${l}" \n  data-name-plural="${d}" data-definition-singular="${i}" data-definition-plural="${r}">\n  <div class="align-items-center d-flex">\n  <div class="align-items-center bg-primary-s d-flex h-42px justify-content-center me-2 w-42px">${o}</div>\n  <div class="d-flex flex-column"><span class="ms-2 name-of-item text-black font-ehsan-semibold">${t}</span><span class="text-neutral-5 fs-12px"> عدد الاسهم:  ${a} , قيمة السهم: ${n} </span></div>  \n  </div>\n  <div id="silverSetting">\n  <button class="btn btn-link edit-${e}" data-edit="true" data-type=${e} aria-label="تعديل ${l}: ${t}. عدد الأسهم: ${a} سهم. قيمة السهم: ${n} ريال سعودي، إجمالي المبلغ: ${a*n} ريال سعودي." tabindex="0">\n  <img data-type=${e} data-edit="true" src="/ehsan-ui/images/icons/edit-icon.svg">\n  </button>\n  <button  class="btn btn-link delete-${e}" data-delete="true" data-type=${e}  aria-label="حذف ${l}: ${t}. عدد الأسهم: ${a} سهم. قيمة السهم: ${n} ريال سعودي، إجمالي المبلغ: ${a*n} ريال سعودي.">\n    <img data-delete="true" data-type=${e}  src="/ehsan-ui/images/icons/delete-icon.svg">\n  </button>\n  </div> \n  </div>\n  `}(c,e.value,n.value,t.value,p,v,m,y,L,u);if(b.innerHTML=f,b.classList.add(`${c}-wrapper`),b.dataset.edit=!1,s.setAttribute("role","region"),s.setAttribute("aria-label",`محتويات حاسبة زكاة ${v}`),null==s.querySelector("h4")){const e=document.createElement("h4");e.classList.add("visually-hidden"),e.innerText=`محتويات حاسبة زكاة ${v}`,s.append(e)}s.append(b),b.querySelector(".edit-"+c).focus();const h=Number(d.innerHTML)/40;l.innerHTML=(Math.round(100*h)/100).toFixed(2),document.querySelector(`label[data-type=${r}]`).setAttribute("aria-label",`${v}. مبلغ الزكاة: ${l.innerHTML} ريال سعودي`);const E=Number($.innerHTML)+Number(g);$.innerHTML=Ze(Pe()),a.innerHTML=ze($.innerHTML),T.innerText=i?`تم تعديل ${m}: ${e.value}، بعدد ${t.value} سهم، وبمبلغ إجماله ${Number(n.value)*Number(t.value)} ريال سعودي في حاسبة زكاة ${v}.`:`تم إضافة ${m}: ${e.value}، بعدد ${t.value} سهم، وبمبلغ إجماله ${Number(n.value)*Number(t.value)} ريال سعودي إلى حاسبة زكاة ${v}.`,e.value="",t.value="",n.value="",E>0?qe.classList.remove("no-money"):(qe.classList.add("no-money"),$.innerHTML=0),De()}w.addEventListener("click",(function(e){e.preventDefault(),function(e=!1){const t=document.getElementById("totalSilverWeightWrapper"),n=document.getElementById("notAcceptSilverZakat");n.classList.add("d-none");const s=u.value,d=JSON.parse(ne.value).globalMetal.silverGramPrice;if(""===s||Number(s)<1)document.getElementById("silverWeightValidation").classList.remove("d-none"),T.innerText='حقل "وزن الفضة" مطلوب',u.focus();else{t.classList.remove("d-none"),t.dataset.edit=!1;var l=s*d/40;l=(Math.round(100*l)/100).toFixed(2);let r=$.dataset.silver;document.getElementById("silverForm").classList.add("d-none"),u.value="",r>0?(le.innerHTML=s,de.innerHTML=l,document.querySelector('label[data-type="silver"]').setAttribute("aria-label",`الفضة. مبلغ الزكاة: ${l} ريال سعودي`),$.innerHTML=Ze(Pe()),a.innerHTML=ze($.innerHTML),$.dataset.silver=l):($.dataset.silver=l,de.innerHTML=l,le.innerHTML=s,$.innerHTML=Ze(Pe()),a.innerHTML=ze($.innerHTML)),document.querySelector('label[data-type="silver"]').setAttribute("aria-label",`الفضة. مبلغ الزكاة: ${l} ريال سعودي`),V.setAttribute("aria-label",`تعديل وزن الفضة. الوزن الحالي: ${s} جرام. الزكاة المستحقة: ${l} ريال سعودي`),G.setAttribute("aria-label",`حذف وزن الفضة. الوزن الحالي: ${s} جرام. الزكاة المستحقة: ${l} ريال سعودي`),V.focus(),s<595&&s>0?(n.classList.remove("d-none"),T.innerText=e?`تم تعديل الوزن ${s} جرام في حاسبة زكاة الفضة، ولكن لا تجب فيه الزكاة لعدم بلوغ النصاب.`:`تم إضافة وزن ${s} جرام إلى حاسبة زكاة الفضة، ولكن لا تجب فيه الزكاة لعدم بلوغ النصاب.`):T.innerText=e?`تم تعديل الوزن ${s} جرام في حاسبة زكاة الفضة.`:`تم إضافة وزن ${s} جرام إلى حاسبة زكاة الفضة.`,qe.classList.remove("no-money")}De()}(document.getElementById("totalSilverWeightWrapper").dataset.edit)})),G.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("totalSilverWeightWrapper").classList.add("d-none");const t=Number(de.innerHTML);T.innerText=`تم حذف وزن ${le.innerHTML} جرام من حاسبة زكاة الفضة.`,le.innerHTML=0,de.innerHTML=0,document.querySelector('label[data-type="silver"]').setAttribute("aria-label","الفضة. مبلغ الزكاة: 0 ريال سعودي"),Je(t,"silver");const n=document.getElementById("silverForm");n.setAttribute("aria-label","إضافة زكاة الفضة"),n.classList.remove("d-none"),document.querySelector("#silverWeight").focus(),document.getElementById("cancelSilver").classList.add("d-none"),notAcceptSilverZakat.classList.add("d-none")})),V.addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("cancelSilver");document.getElementById("totalSilverWeightWrapper").classList.add("d-none"),document.getElementById("totalSilverWeightWrapper").dataset.edit=!0,u.value=Number(le.innerHTML);const n=document.getElementById("silverForm");n.setAttribute("aria-label","تعديل زكاة الفضة"),n.classList.remove("d-none"),u.focus(),t.classList.remove("d-none"),w.classList.remove("col"),Oe()})),W.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("totalSilverWeightWrapper").classList.remove("d-none"),document.getElementById("totalSilverWeightWrapper").dataset.edit=!1,V.focus();const t=document.getElementById("silverForm");u.value="",t.setAttribute("aria-label","إضافة زكاة الفضة"),t.classList.add("d-none"),W.classList.add("d-none"),De()}));const tt=function(e=!1,t=null){const n=document.getElementById("sharesNameValidation"),a=document.getElementById("sharesNumbersValidation"),s=document.getElementById("sharesValueValidation");if(ie.classList.add("d-none"),n.classList.add("d-none"),a.classList.add("d-none"),s.classList.add("d-none"),""===ve.value||""===Le.value||""===ye.value||Le.value<1||ye.value<1)""===ve.value&&(n.classList.remove("d-none"),ve.focus(),T.innerText='الحقل "الاسم المختصر للسهم" مطلوب.'),""===Le.value&&(a.classList.remove("d-none"),Le.focus(),T.innerText='الحقل "عدد الأسهم" مطلوب.'),Le.value<1&&(a.classList.remove("d-none"),Le.focus(),T.innerText='الحقل "عدد الأسهم" غير صحيح.'),""===ye.value&&(s.classList.remove("d-none"),ye.focus(),T.innerText='الحقل "قيمة السهم" مطلوب.'),ye.value<1&&(s.classList.remove("d-none"),ye.focus(),T.innerText='الحقل "قيمة السهم" غير صحيح.');else if(e&&null!==t&&t.querySelector("div.wrapper-shares").dataset.name==ve.value&&t.querySelector("div.wrapper-shares").dataset.numbers==Le.value&&t.querySelector("div.wrapper-shares").dataset.unit==ye.value)z.click(),me.classList.remove("d-none");else{et(ve,Le,ye,oe,ue,ce,"shares",e,t),y.querySelectorAll("input").forEach((e=>e.value="")),y.classList.add("d-none"),me.classList.remove("d-none");const n=document.querySelector(".edit-wrapper-shares");null!=n?(n.classList.remove("edit-wrapper-shares"),n.querySelector("button.edit-shares").focus()):Z.focus(),oe.dataset.edit=!1,oe.querySelector(".shares-wrapper.d-none")&&oe.querySelector(".shares-wrapper.d-none").classList.remove("d-none");Number(ue.innerHTML)<o?ie.classList.remove("d-none"):ie.classList.add("d-none")}De()};F.addEventListener("click",(function(e){e.preventDefault(),"true"==oe.dataset.edit?tt(!0,oe.querySelector("div.shares-wrapper.edit-wrapper-shares")):tt()})),z.addEventListener("click",(function(e){if(e.preventDefault(),"true"===this.dataset.edit){const e=oe.querySelector(".edit-wrapper-shares");e.classList.remove("edit-wrapper-shares","d-none"),oe.dataset.edit=!1,z.dataset.edit=!1,y.classList.add("d-none"),y.setAttribute("aria-label","إضافة زكاة الأسهم"),z.classList.add("d-none"),z.dataset.edit=!1,De(),e.querySelector("button.edit-shares").focus()}else y.classList.add("d-none"),y.setAttribute("aria-label","إضافة زكاة الأسهم");me.classList.remove("d-none"),Z.focus()})),document.addEventListener("click",(function(e){if("shares"===e.target.dataset.type&&e.target.dataset.delete){const t=e.target.closest(".wrapper"),n=document.getElementById("sharesTotalMoney");let a=document.querySelectorAll(".shares-wrapper");ie.classList.add("d-none");const s=t.dataset.value;n.innerHTML=Number(n.innerHTML)-Number(s);const d=t.dataset.name,l=t.dataset.nameSingular,r=t.dataset.namePlural,i=Number(s)/40,c=t.dataset.numbers,u=t.dataset.unit;t.closest(".shares-wrapper").remove(),Je(i),Ke(i,"zakatSharesValue","shares");const m=Number(n.innerHTML);if(0===m&&(document.getElementById("zakatSharesValue").innerHTML=0),m<o&&0!=m?ie.classList.remove("d-none"):ie.classList.add("d-none"),document.querySelector('label[data-type="shares"]').setAttribute("aria-label",`الأسهم. مبلغ الزكاة: ${document.getElementById("zakatSharesValue").innerHTML} ريال سعودي`),1===a.length){me.classList.add("d-none"),y.classList.remove("d-none"),y.setAttribute("aria-label","إضافة زكاة الأسهم"),ve.focus(),y.querySelectorAll("input").forEach((e=>e.value=""))}T.innerText=`تم حذف ${l}: ${d}، بعدد ${c} سهم، وبمبلغ إجماله ${Number(u)*Number(c)} ريال سعودي من حاسبة زكاة ${r}.`}})),document.addEventListener("click",(function(e){if("shares"===e.target.dataset.type&&e.target.dataset.edit){const t=e.target.closest(".shares-wrapper");if(t.classList.add("edit-wrapper-shares","d-none"),document.getElementById("cannotEditShares").classList.add("d-none"),"false"===oe.dataset.edit){oe.dataset.edit=!0,z.dataset.edit=!0;const t=e.target.closest(".wrapper");ve.value=t.dataset.name,Le.value=t.dataset.numbers,ye.value=t.dataset.unit,y.classList.remove("d-none"),y.setAttribute("aria-label","تعديل زكاة الأسهم"),ve.focus(),z.classList.remove("d-none"),z.dataset.edit=!0,p.classList.remove("col"),me.classList.add("d-none")}else p.classList.add("col"),me.classList.remove("d-none"),document.getElementById("cannotEditShares").classList.remove("d-none"),t.classList.remove("edit-wrapper-shares","d-none");Oe()}})),Z.addEventListener("click",(function(e){e.preventDefault(),y.querySelectorAll("input").forEach((e=>e.value="")),y.classList.remove("d-none"),y.setAttribute("aria-label","إضافة زكاة الأسهم"),me.classList.add("d-none"),z.classList.remove("d-none"),z.dataset.edit=!1,ve.focus()}));const nt=function(e=!1,t=null){if(ie.classList.add("d-none"),Me.classList.add("d-none"),he.classList.add("d-none"),$e.classList.add("d-none"),ke.classList.add("d-none"),""===pe.value||""===ge.value||""===fe.value||fe.value<1||ge.value<1)""===pe.value&&he.classList.remove("d-none"),(""===ge.value||ge.value<1)&&$e.classList.remove("d-none"),(""===fe.value||fe.value<1)&&ke.classList.remove("d-none");else if(e&&null!==t&&t.querySelector("div.wrapper-investment").dataset.name==pe.value&&t.querySelector("div.wrapper-investment").dataset.numbers==ge.value&&t.querySelector("div.wrapper-investment").dataset.unit==fe.value)be.click(),Ie.classList.remove("d-none"),P.focus(),Ee.querySelectorAll("input").forEach((e=>e.value=""));else{const n=Te,a=document.getElementById("investmentTotalMoney");et(pe,ge,fe,Se,a,n,"investment",e,t),Ee.classList.add("d-none"),Ie.classList.remove("d-none");const s=document.querySelector(".edit-investment-shares");null!=s?(s.classList.remove("edit-investment-shares"),s.querySelector("button.edit-investment").focus()):P.focus(),Se.dataset.edit=!1;Number(a.innerHTML)<o?Me.classList.remove("d-none"):Me.classList.add("d-none"),De(),Ee.querySelectorAll("input").forEach((e=>e.value=""))}};E.addEventListener("click",(function(e){e.preventDefault(),"true"==Se.dataset.edit?nt(!0,Se.querySelector("div.investment-wrapper.edit-investment-shares")):nt()})),be.addEventListener("click",(function(e){if(e.preventDefault(),"true"===this.dataset.edit){const e=Se.querySelector(".edit-investment-shares");e.classList.remove("edit-investment-shares"),Se.dataset.edit=!1,be.dataset.edit=!1,e.querySelector("button.edit-investment").focus(),Ee.classList.add("d-none"),Ee.setAttribute("aria-label","إضافة زكاة الصناديق الاستثمارية"),be.classList.add("d-none"),be.dataset.edit=!1,Ie.classList.remove("d-none"),P.focus()}else Ie.classList.remove("d-none"),P.focus(),Ee.classList.add("d-none"),Ee.setAttribute("aria-label","إضافة زكاة الصناديق الاستثمارية");De()})),document.addEventListener("click",(function(e){if("investment"===e.target.dataset.type&&e.target.dataset.delete){const t=e.target.closest(".wrapper"),n=document.getElementById("investmentTotalMoney"),a=t.dataset.value;let s=document.querySelectorAll(".investment-wrapper");n.innerHTML=Number(n.innerHTML)-Number(a),e.target.closest(".investment-wrapper").remove();const d=t.dataset.value,l=Number(d)/40,r=t.dataset.nameSingular,i=t.dataset.namePlural,c=t.dataset.name,u=t.dataset.unit,m=t.dataset.numbers;Je(l),Ke(l,"zakatInvestmentValue","investment");const v=Number(Te.innerHTML);0==v&&(Te.innerHTML=0),v<o&&0!=v?Me.classList.remove("d-none"):Me.classList.add("d-none"),document.querySelector('label[data-type="investment"]').setAttribute("aria-label",`الصناديق الاستثمارية. مبلغ الزكاة: ${Te.innerHTML} ريال سعودي`),1===s.length&&(document.querySelector("#allInvestment h4").remove(),Ie.classList.add("d-none"),Ee.classList.remove("d-none"),Ee.setAttribute("aria-label","إضافة زكاة الصناديق الاستثمارية"),c.focus()),T.innerText=`تم حذف ${r}: ${c}، بعدد ${m} سهم، وبمبلغ إجماله ${Number(u)*Number(m)} ريال سعودي من حاسبة زكاة ${i}.`}})),P.addEventListener("click",(function(e){e.preventDefault(),Ee.classList.remove("d-none"),Ee.setAttribute("aria-label","إضافة زكاة الصناديق الاستثمارية"),Ie.classList.add("d-none"),be.classList.remove("d-none"),be.dataset.edit=!1,he.classList.add("d-none"),$e.classList.add("d-none"),ke.classList.add("d-none"),pe.focus()})),document.addEventListener("click",(function(e){if("investment"===e.target.dataset.type&&e.target.dataset.edit){const t=e.target.closest(".investment-wrapper");if(t.classList.add("edit-investment-shares"),document.getElementById("cannotEditInvestment").classList.add("d-none"),E.classList.remove("col"),"false"===Se.dataset.edit){Se.dataset.edit=!0,be.dataset.edit=!0;const t=e.target.closest(".wrapper");pe.value=t.dataset.name,ge.value=t.dataset.numbers,fe.value=t.dataset.unit,Ee.classList.remove("d-none"),Ee.setAttribute("aria-label","تعديل زكاة الصناديق الاستثمارية"),pe.focus(),be.classList.remove("d-none"),be.dataset.edit=!0,Ie.classList.add("d-none")}else document.getElementById("cannotEditInvestment").classList.remove("d-none"),t.classList.remove("edit-investment-shares");Oe()}})),s.addEventListener("click",(function(e){if(0==Number($.innerText))return!1;const t=this;t.classList.add("disabled"),e.preventDefault();let n=JSON.parse(ne.value);const a=n.globalMetal.id,s={};let d=!1;const l=Number(J.innerHTML),r=Number(j.innerHTML);d=r/Number(n.globalMetal.silverGramPrice)>=595,0===r?n.moneyZakat=null:(s.amount=Number(r),s.zakatAmount=Number(l),s.globalMetalId=a,s.isExceedNesab=d,n.moneyZakat=s);let i=document.querySelectorAll(".gold-item"),o=[];i.forEach((e=>{const t={},n=e.dataset.real,s=e.dataset.weight,d=e.dataset.id;t.goldWeight=Number(s),t.goldKaratId=Number(d),t.karat24Weight=Number(n),t.globalMetalId=a,o.push(t)})),0===o.length?n.goldZakat=null:n.goldZakat=o;let c={},u=!1;const m=Number(le.innerHTML);u=m>=595,0===m?n.silverZakat=null:(c.silverWeight=Number(m),c.globalMetalId=a,c.isExceedNesab=u,n.silverZakat=c);let v=document.querySelectorAll(".wrapper-shares"),L=[];Array.from(v).forEach(((e,t)=>{const n={},s=e.dataset.unit,d=e.dataset.numbers,l=e.querySelector(".name-of-item").innerHTML;n.name=l,n.numberOfEquities=Number(d),n.pricePerEquity=Number(s),n.globalMetalId=a,L.push(n)})),0===L.length?n.equitiesZakat=null:n.equitiesZakat=L;let y=document.querySelectorAll(".wrapper-investment"),b=[];Array.from(y).forEach(((e,t)=>{const n={},s=e.dataset.unit,d=e.dataset.numbers,l=e.querySelector(".name-of-item").innerHTML;n.name=l,n.numberOfFunds=Number(d),n.pricePerFund=Number(s),n.globalMetalId=a,b.push(n)})),0===b.length?n.investmentFundsZakat=null:n.investmentFundsZakat=b;const p=Number(A.value);n.extraAmount=0===p?null:p,fetch("/Zakat/Pay",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{e.isSuccess?window.location.href="/Payment/Index?transactionId="+e.result:(alert(e.result),t.classList.remove("disabled"))})).catch((e=>console.log(e)))}));
//# sourceMappingURL=zakatCalculator.js.map
